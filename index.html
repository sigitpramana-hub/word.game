<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CET-4 å•è¯æ‰“åœ°é¼ ä¸“ä¸šç‰ˆ</title>
    <style>
        :root {
            --bg-color: #eef2f3;
            --primary-pink: #ffafbd;
            --soft-blue: #c9ffbf;
            --text-dark: #4a4a4a;
            --hole-shadow: #8d775f;
        }

        body {
            font-family: 'PingFang SC', 'Microsoft YaHei', sans-serif;
            background: linear-gradient(135deg, #ffafbd 0%, #ffc3a0 100%);
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            color: var(--text-dark);
        }

        /* æ¸¸æˆçœ‹æ¿ */
        .board {
            background: rgba(255, 255, 255, 0.9);
            padding: 20px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            text-align: center;
            margin-top: 20px;
            width: 340px;
        }

        .target-box {
            background: #fffbe6;
            border: 2px dashed #ff6b6b;
            padding: 10px;
            border-radius: 12px;
            margin: 15px 0;
        }

        .target-cn {
            font-size: 24px;
            font-weight: bold;
            color: #d32f2f;
        }

        .stats-row {
            display: flex;
            justify-content: space-around;
            font-weight: bold;
            font-size: 18px;
        }

        /* æ¸¸æˆç½‘æ ¼ */
        .grid {
            display: grid;
            grid-template-columns: repeat(3, 100px);
            grid-template-rows: repeat(3, 100px);
            gap: 15px;
            margin: 20px 0;
        }

        .hole {
            width: 100px;
            height: 100px;
            background: #a67c52;
            border-radius: 50%;
            position: relative;
            overflow: hidden;
            box-shadow: inset 0 10px 0 var(--hole-shadow);
        }

        .mole {
            width: 80px;
            height: 80px;
            background: white;
            border-radius: 15px;
            position: absolute;
            left: 10px;
            top: 100px; /* éšè—ä½ç½® */
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 13px;
            font-weight: bold;
            text-align: center;
            cursor: pointer;
            transition: top 0.15s ease-out;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            border: 2px solid #5d4037;
            padding: 5px;
            box-sizing: border-box;
            word-break: break-all;
        }

        .mole.up { top: 10px; }

        /* æŒ‰é’® */
        .btn {
            background: #4caf50;
            color: white;
            border: none;
            padding: 12px 40px;
            font-size: 18px;
            border-radius: 25px;
            cursor: pointer;
            box-shadow: 0 4px 0 #388e3c;
            transition: all 0.1s;
        }

        .btn:active { transform: translateY(3px); box-shadow: none; }

        /* æ•ˆæœæç¤º */
        .combo-text {
            position: absolute;
            color: #ff9800;
            font-weight: bold;
            animation: floatUp 0.5s ease-out forwards;
            pointer-events: none;
        }

        @keyframes floatUp {
            from { opacity: 1; transform: translateY(0); }
            to { opacity: 0; transform: translateY(-50px); }
        }
    </style>
</head>
<body>

<div class="board">
    <h2>ğŸ“ CET-4 å•è¯çŒäºº</h2>
    <div class="stats-row">
        <span>åˆ†æ•°: <span id="score">0</span></span>
        <span>æ—¶é—´: <span id="time">60</span>s</span>
    </div>
    
    <div class="target-box">
        <div>æ‰¾å‡ºå¯¹åº”è‹±æ–‡ï¼š</div>
        <div class="target-cn" id="target-cn">å‡†å¤‡å¥½äº†å—ï¼Ÿ</div>
    </div>

    <div class="grid">
        <div class="hole"><div class="mole" onclick="hit(this)"></div></div>
        <div class="hole"><div class="mole" onclick="hit(this)"></div></div>
        <div class="hole"><div class="mole" onclick="hit(this)"></div></div>
        <div class="hole"><div class="mole" onclick="hit(this)"></div></div>
        <div class="hole"><div class="mole" onclick="hit(this)"></div></div>
        <div class="hole"><div class="mole" onclick="hit(this)"></div></div>
        <div class="hole"><div class="mole" onclick="hit(this)"></div></div>
        <div class="hole"><div class="mole" onclick="hit(this)"></div></div>
        <div class="hole"><div class="mole" onclick="hit(this)"></div></div>
    </div>

    <button class="btn" id="start-btn" onclick="startGame()">å¼€å§‹æ¸¸æˆ</button>
</div>

<script>
    const vocabulary = [
        {en: 'abandon', cn: 'æ”¾å¼ƒ'}, {en: 'ability', cn: 'èƒ½åŠ›'}, {en: 'abnormal', cn: 'åå¸¸çš„'},
        {en: 'absolute', cn: 'ç»å¯¹çš„'}, {en: 'abundant', cn: 'ä¸°å¯Œçš„'}, {en: 'academic', cn: 'å­¦æœ¯çš„'},
        {en: 'accelerate', cn: 'åŠ é€Ÿ'}, {en: 'access', cn: 'å…¥å£/æ¥è¿‘'}, {en: 'accommodate', cn: 'å®¹çº³/è°ƒèŠ‚'},
        {en: 'accompany', cn: 'é™ªä¼´'}, {en: 'accomplish', cn: 'å®Œæˆ'}, {en: 'accurate', cn: 'å‡†ç¡®çš„'},
        {en: 'accuse', cn: 'æŒ‡æ§'}, {en: 'acquire', cn: 'è·å¾—'}, {en: 'adapt', cn: 'é€‚åº”/ä¿®æ”¹'},
        {en: 'adequate', cn: 'å……è¶³çš„'}, {en: 'adjust', cn: 'è°ƒæ•´'}, {en: 'adopt', cn: 'é‡‡ç”¨/æ”¶å…»'},
        {en: 'advance', cn: 'å‰è¿›/æå‰'}, {en: 'advocate', cn: 'å€¡å¯¼è€…'}, {en: 'agency', cn: 'æœºæ„/ä»£ç†'},
        {en: 'alter', cn: 'æ”¹å˜'}, {en: 'ambition', cn: 'é›„å¿ƒ/é‡å¿ƒ'}, {en: 'analyze', cn: 'åˆ†æ'},
        {en: 'ancestor', cn: 'ç¥–å…ˆ'}, {en: 'apparent', cn: 'æ˜¾ç„¶çš„'}, {en: 'approach', cn: 'æ–¹æ³•/æ¥è¿‘'},
        {en: 'appropriate', cn: 'æ°å½“çš„'}, {en: 'artificial', cn: 'äººé€ çš„'}, {en: 'aspect', cn: 'æ–¹é¢'},
        {en: 'assign', cn: 'åˆ†é…'}, {en: 'assume', cn: 'å‡è®¾/æ‰¿æ‹…'}, {en: 'authority', cn: 'æƒå¨/å½“å±€'},
        {en: 'available', cn: 'å¯ç”¨çš„'}, {en: 'barrier', cn: 'éšœç¢'}, {en: 'benefit', cn: 'åˆ©ç›Š'},
        {en: 'boundary', cn: 'è¾¹ç•Œ'}, {en: 'budget', cn: 'é¢„ç®—'}, {en: 'candidate', cn: 'å€™é€‰äºº'},
        {en: 'capacity', cn: 'å®¹é‡/èƒ½åŠ›'}, {en: 'category', cn: 'ç±»åˆ«'}, {en: 'cease', cn: 'åœæ­¢'},
        {en: 'challenge', cn: 'æŒ‘æˆ˜'}, {en: 'channel', cn: 'é¢‘é“/æ¸ é“'}, {en: 'circumstance', cn: 'æƒ…å†µ'},
        {en: 'clarify', cn: 'é˜æ˜'}, {en: 'collapse', cn: 'å€’å¡Œ'}, {en: 'commit', cn: 'çŠ¯é”™/æ‰¿è¯º'},
        {en: 'community', cn: 'ç¤¾åŒº'}, {en: 'comparative', cn: 'æ¯”è¾ƒçš„'}, {en: 'complain', cn: 'æŠ±æ€¨'},
        {en: 'complex', cn: 'å¤æ‚çš„'}, {en: 'component', cn: 'ç»„æˆéƒ¨åˆ†'}, {en: 'concentrate', cn: 'é›†ä¸­'},
        {en: 'conclude', cn: 'å¾—å‡ºç»“è®º'}, {en: 'confirm', cn: 'ç¡®è®¤'}, {en: 'conflict', cn: 'å†²çª'},
        {en: 'consequence', cn: 'åæœ'}, {en: 'considerable', cn: 'ç›¸å½“å¤§çš„'}, {en: 'contribute', cn: 'è´¡çŒ®'},
        {en: 'controversial', cn: 'æœ‰äº‰è®®çš„'}, {en: 'convey', cn: 'ä¼ è¾¾'}, {en: 'coordinate', cn: 'åè°ƒ'},
        {en: 'critical', cn: 'å±æ€¥çš„/æ‰¹è¯„çš„'}, {en: 'crucial', cn: 'è‡³å…³é‡è¦çš„'}, {en: 'decade', cn: 'åå¹´'},
        {en: 'decline', cn: 'ä¸‹é™/æ‹’ç»'}, {en: 'defeat', cn: 'å‡»è´¥'}, {en: 'deliberate', cn: 'æ•…æ„çš„'},
        {en: 'demonstrate', cn: 'è¯æ˜/æ¼”ç¤º'}, {en: 'deny', cn: 'å¦è®¤'}, {en: 'deprive', cn: 'å‰¥å¤º'},
        {en: 'derive', cn: 'èµ·æºäº'}, {en: 'deserve', cn: 'å€¼å¾—'}, {en: 'device', cn: 'è®¾å¤‡'},
        {en: 'discipline', cn: 'çºªå¾‹/å­¦ç§‘'}, {en: 'display', cn: 'é™ˆåˆ—/å±•ç¤º'}, {en: 'distinct', cn: 'æ˜æ˜¾çš„'},
        {en: 'distinguish', cn: 'åŒºåˆ†'}, {en: 'distribute', cn: 'åˆ†å‘'}, {en: 'dominate', cn: 'ç»Ÿæ²»'},
        {en: 'drastic', cn: 'æ¿€çƒˆçš„'}, {en: 'durable', cn: 'è€ç”¨çš„'}, {en: 'economic', cn: 'ç»æµçš„'},
        {en: 'elaborate', cn: 'ç²¾å¿ƒåˆ¶ä½œçš„'}, {en: 'eliminate', cn: 'æ¶ˆé™¤'}, {en: 'emerge', cn: 'å‡ºç°'},
        {en: 'emphasis', cn: 'å¼ºè°ƒ'}, {en: 'encounter', cn: 'é­é‡'}, {en: 'enormous', cn: 'å·¨å¤§çš„'},
        {en: 'ensure', cn: 'ç¡®ä¿'}, {en: 'enthusiastic', cn: 'çƒ­æƒ…çš„'}, {en: 'evaluate', cn: 'è¯„ä¼°'},
        {en: 'eventually', cn: 'æœ€ç»ˆ'}, {en: 'evidence', cn: 'è¯æ®'}, {en: 'exaggerate', cn: 'å¤¸å¤§'},
        {en: 'excessive', cn: 'è¿‡åº¦çš„'}, {en: 'exclude', cn: 'æ’é™¤'}, {en: 'expand', cn: 'æ‰©å¼ '},
        {en: 'exploit', cn: 'å¼€é‡‡/åˆ©ç”¨'}, {en: 'exposure', cn: 'æš´éœ²/æ›å…‰'}, {en: 'external', cn: 'å¤–éƒ¨çš„'},
        {en: 'fascinate', cn: 'ä½¿å…¥è¿·'}, {en: 'fatal', cn: 'è‡´å‘½çš„'}, {en: 'flexible', cn: 'çµæ´»çš„'},
        {en: 'fluctuate', cn: 'æ³¢åŠ¨'}, {en: 'focus', cn: 'ç„¦ç‚¹'}, {en: 'forbid', cn: 'ç¦æ­¢'},
        {en: 'frustrate', cn: 'ä½¿æ²®ä¸§'}, {en: 'fundamental', cn: 'åŸºæœ¬çš„'}, {en: 'genuine', cn: 'çœŸå®çš„'},
        {en: 'glance', cn: 'æ‰«è§†'}, {en: 'guarantee', cn: 'ä¿è¯'}, {en: 'hesitate', cn: 'çŠ¹è±«'},
        {en: 'highlight', cn: 'å¼ºè°ƒ/äº®ç‚¹'}, {en: 'hint', cn: 'æš—ç¤º'}, {en: 'identify', cn: 'è¯†åˆ«'},
        {en: 'ignore', cn: 'å¿½è§†'}, {en: 'illustrate', cn: 'è¯´æ˜'}, {en: 'impact', cn: 'å½±å“'},
        {en: 'imply', cn: 'æš—ç¤º'}, {en: 'impose', cn: 'å¼ºåŠ '}, {en: 'incentive', cn: 'åŠ¨æœº/å¥–åŠ±'},
        {en: 'indicate', cn: 'æŒ‡å‡º/è¡¨æ˜'}, {en: 'inevitable', cn: 'ä¸å¯é¿å…çš„'}, {en: 'infer', cn: 'æ¨æ–­'},
        {en: 'infinite', cn: 'æ— é™çš„'}, {en: 'ingredient', cn: 'æˆåˆ†'}, {en: 'initial', cn: 'æœ€åˆçš„'},
        {en: 'initiative', cn: 'ä¸»åŠ¨æ€§'}, {en: 'insert', cn: 'æ’å…¥'}, {en: 'insight', cn: 'æ´å¯ŸåŠ›'},
        {en: 'inspire', cn: 'æ¿€åŠ±'}, {en: 'install', cn: 'å®‰è£…'}, {en: 'instance', cn: 'ä¾‹å­'}
    ];

    let score = 0;
    let timeLeft = 60;
    let gameActive = false;
    let currentTarget = null;
    let gameTimer, molePopTimer;
    let speed = 1500;

    const scoreEl = document.getElementById('score');
    const timeEl = document.getElementById('time');
    const targetCnEl = document.getElementById('target-cn');
    const startBtn = document.getElementById('start-btn');
    const moles = document.querySelectorAll('.mole');

    function startGame() {
        if (gameActive) return;
        resetGame();
        nextRound();
        gameTimer = setInterval(updateTime, 1000);
        popMoles();
    }

    function resetGame() {
        score = 0;
        timeLeft = 60;
        speed = 1500;
        gameActive = true;
        scoreEl.textContent = score;
        timeEl.textContent = timeLeft;
        startBtn.disabled = true;
        startBtn.style.opacity = '0.5';
    }

    function updateTime() {
        timeLeft--;
        timeEl.textContent = timeLeft;
        if (timeLeft <= 0) endGame();
    }

    function nextRound() {
        currentTarget = vocabulary[Math.floor(Math.random() * vocabulary.length)];
        targetCnEl.textContent = currentTarget.cn;
    }

    function popMoles() {
        if (!gameActive) return;

        // éšæœºé€‰ä¸€ä¸ªæ´
        const randomIndex = Math.floor(Math.random() * moles.length);
        const mole = moles[randomIndex];

        if (!mole.classList.contains('up')) {
            // 70% æ¦‚ç‡å‡ºå¹²æ‰°è¯ï¼Œ30% æ¦‚ç‡å‡ºæ­£ç¡®è¯ï¼ˆç¡®ä¿æ¸¸æˆæœ‰éš¾åº¦ï¼‰
            const isCorrect = Math.random() < 0.35;
            const word = isCorrect ? currentTarget : vocabulary[Math.floor(Math.random() * vocabulary.length)];
            
            mole.textContent = word.en;
            mole.dataset.word = word.en;
            mole.classList.add('up');

            // åœç•™æ—¶é—´éšåˆ†æ•°æå‡ç¼©çŸ­
            const displayTime = Math.max(500, speed - (score * 5));
            
            setTimeout(() => {
                mole.classList.remove('up');
                if (gameActive) popMoles();
            }, displayTime);
        } else {
            // å¦‚æœé€‰ä¸­çš„æ´å·²ç»æœ‰äººäº†ï¼Œæ¢ä¸ªæ—¶é—´é‡è¯•
            setTimeout(popMoles, 100);
        }
    }

    function hit(mole) {
        if (!gameActive || !mole.classList.contains('up')) return;

        mole.classList.remove('up');
        
        if (mole.dataset.word === currentTarget.en) {
            score += 10;
            showFeedback(mole, '+10', '#4caf50');
            nextRound(); // æ¢ä¸‹ä¸€ä¸ªä¸­æ–‡å•è¯
        } else {
            score = Math.max(0, score - 5);
            showFeedback(mole, '-5', '#f44336');
        }
        scoreEl.textContent = score;
    }

    function showFeedback(element, text, color) {
        const feedback = document.createElement('div');
        feedback.className = 'combo-text';
        feedback.textContent = text;
        feedback.style.color = color;
        feedback.style.left = element.parentElement.offsetLeft + 30 + 'px';
        feedback.style.top = element.parentElement.offsetTop + 'px';
        document.body.appendChild(feedback);
        setTimeout(() => feedback.remove(), 500);
    }

    function endGame() {
        gameActive = false;
        clearInterval(gameTimer);
        alert(`æŒ‘æˆ˜ç»“æŸï¼\nä½ çš„æœ€ç»ˆå¾—åˆ†ï¼š${score}\nèƒŒå•è¯è¦æŒä¹‹ä»¥æ’å“¦ï¼`);
        startBtn.disabled = false;
        startBtn.style.opacity = '1';
        targetCnEl.textContent = 'æ¸¸æˆç»“æŸ';
        moles.forEach(m => m.classList.remove('up'));
    }
</script>

</body>
</html>
